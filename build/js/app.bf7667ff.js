!function(e){function t(t){for(var r,a,s=t[0],c=t[1],u=t[2],m=0,f=[];m<s.length;m++)a=s[m],Object.prototype.hasOwnProperty.call(o,a)&&o[a]&&f.push(o[a][0]),o[a]=0;for(r in c)Object.prototype.hasOwnProperty.call(c,r)&&(e[r]=c[r]);for(l&&l(t);f.length;)f.shift()();return i.push.apply(i,u||[]),n()}function n(){for(var e,t=0;t<i.length;t++){for(var n=i[t],r=!0,s=1;s<n.length;s++){var c=n[s];0!==o[c]&&(r=!1)}r&&(i.splice(t--,1),e=a(a.s=n[0]))}return e}var r={},o={0:0},i=[];function a(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,a),n.l=!0,n.exports}a.m=e,a.c=r,a.d=function(e,t,n){a.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},a.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=function(e,t){if(1&t&&(e=a(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(a.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)a.d(n,r,function(t){return e[t]}.bind(null,r));return n},a.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return a.d(t,"a",t),t},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.p="";var s=window.webpackJsonp=window.webpackJsonp||[],c=s.push.bind(s);s.push=t,s=s.slice();for(var u=0;u<s.length;u++)t(s[u]);var l=c;i.push([191,1]),n()}({109:function(e,t,n){},191:function(e,t,n){"use strict";n.r(t);n(109),n(110),n(116),n(117),n(48),n(118),n(72),n(120),n(79),n(52),n(127),n(33),n(83),n(84),n(139),n(141),n(88),n(143),n(90);var r=n(108),o=n.n(r);function i(e,t,n,r,o,i,a){try{var s=e[i](a),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,o)}function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var c=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),s(this,"_API","https://pokeapi.co/api/v2/pokemon"),s(this,"config",{minId:1,maxId:255}),s(this,"formatResponse",(function(e){return{error:!1,name:e.species.name,sprite:e.sprites.front_default,art:e.sprites.other["official-artwork"].front_default,stats:e.stats.map((function(e){return{name:e.stat.name,value:e.base_stat}}))}}))}var t,n,r,c,u;return t=e,(n=[{key:"getPokemon",value:(c=regeneratorRuntime.mark((function e(){var t,n,r,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.config,n=t.minId,r=t.maxId,e.prev=1,e.next=4,o.a.get("".concat(this._API,"/").concat((a=n,s=r,parseInt(Math.random()*(s-a+1),10)+a)));case 4:return i=e.sent,e.abrupt("return",this.formatResponse(i.data));case 8:return e.prev=8,e.t0=e.catch(1),e.abrupt("return",{error:!0});case 11:case"end":return e.stop()}var a,s}),e,this,[[1,8]])})),u=function(){var e=this,t=arguments;return new Promise((function(n,r){var o=c.apply(e,t);function a(e){i(o,n,r,a,s,"next",e)}function s(e){i(o,n,r,a,s,"throw",e)}a(void 0)}))},function(){return u.apply(this,arguments)})}])&&a(t.prototype,n),r&&a(t,r),e}();var u=function e(t){var n,r,o,i=this,a=t.name,s=t.art,c=t.sprite,u=t.stats;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),o=function(){return'\n        <li class="poke-controller__item" data-element="poke-item">\n            <div class="poke-controller__item-plane">\n                <button class="poke-controller__item-stand" data-element="poke-button">\n                    <img \n                        class="poke-controller__art"\n                        src="'.concat(i.art,'"\n                        alt="').concat(i.name,' offical artwork"  \n                    />\n                    <img \n                        class="poke-controller__sprite"\n                        src="').concat(i.sprite,'"\n                        alt="').concat(i.name,' offical artwork"  \n                    />\n                </button>\n            </div>\n        </li>\n    ')},(r="getMarkup")in(n=this)?Object.defineProperty(n,r,{value:o,enumerable:!0,configurable:!0,writable:!0}):n[r]=o,this.name=a,this.art=s,this.sprite=c,this.stats=u},l=n(13);function m(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var f=function e(t){var n=this,r=t.disc,o=t.item,i=t.itemStand;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),m(this,"config",{discRotationDuration:3e4}),m(this,"createDiscTimeline",(function(){var e=n.config,t=n.disc;n.discRotationTimeline=l.a.timeline({targets:t,easing:"linear",duration:e.discRotationDuration,loop:!0,autoplay:!0}).add({rotate:[0,360]})})),m(this,"createItemTimeline",(function(e){var t=n.getRotationOffset,r=n.config,o=n.item,i=n.itemStand;l.a.remove(o),l.a.remove(i),l.a.set(o,{translateX:"-50%"}),Object(l.a)({targets:o,easing:"easeOutExpo",scale:function(t,n,r){return n+1===r&&"add"===e?[0,1]:1},rotate:function(n,r,o){return r+1===o&&"add"===e?[t(r,o)-10,t(r,o)]:t(r,o)},duration:2e3}),n.standsRotationTimeline=l.a.timeline({easing:"linear",targets:i,duration:r.discRotationDuration,loop:!0,autoplay:!1}).add({rotateZ:function(e,n,r){return[180-t(n,r),-180-t(n,r)]},rotateX:[-90,-90]}),n.standsRotationTimeline.seek(n.discRotationTimeline.progress*(r.discRotationDuration/100)),n.standsRotationTimeline.play()})),m(this,"getRotationOffset",(function(e,t){return 360/t*(e+1)})),this.disc=r,this.item=o,this.itemStand=i},d=n(36),p=n.n(d);function h(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var v=function e(t){var n=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),h(this,"meters",[]),h(this,"currentStats",[{name:"hp",value:void 0},{name:"attack",value:void 0},{name:"defense",value:void 0},{name:"special-attack",value:void 0},{name:"special-defense",value:void 0},{name:"speed",value:void 0}]),h(this,"pokeName",void 0),h(this,"config",{numSegments:20,minStat:0,maxStat:180,filledSegmentClass:"stats-meter__segment--filled"}),h(this,"prepareDOM",(function(){var e=n.config.numSegments;n.meters;n.meters.forEach((function(t){p()(e,(function(){t.insertAdjacentHTML("beforeend",'<li class="stats-meter__segment"></li>')}))}))})),h(this,"renderStats",(function(e,t){var r=n.renderMeterSegments;n.currentStats=e,n.meters.forEach((function(e,t){r(e,n.currentStats[t].value)})),n.nameContainer.innerHTML=t})),h(this,"renderMeterSegments",(function(e,t){var r=n.getMappedValue,o=n.config.filledSegmentClass;e.children.forEach((function(e,n){e.classList.toggle(o,n+1<=r(t))}))})),h(this,"getMappedValue",(function(e){var t=n.config,r=t.minStat,o=t.maxStat,i=t.numSegments;return Math.round(function(e,t,n,r,o){return r+(o-r)*(e-t)/(n-t)}(function(e,t,n){return e<=t?t:e>=n?n:e}(e,r,o),r,o,0,i))}));var r=this.currentStats;this.component=t,this.nameContainer=t.querySelector('[data-element="poke-name"]'),this.meters=r.map((function(e){var t=e.name;return n.component.querySelector('[data-element="'.concat(t,'"]')).querySelector(".stats-meter")})),this.prepareDOM()},g=n(53),y=n.n(g);function b(e){return function(e){if(Array.isArray(e))return k(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return k(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return k(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function k(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function w(e,t,n,r,o,i,a){try{var s=e[i](a),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,o)}function S(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){w(i,r,o,a,s,"next",e)}function s(e){w(i,r,o,a,s,"throw",e)}a(void 0)}))}}function _(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function P(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var I=function(){function e(t){var n=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),P(this,"pokeGetter",new c),P(this,"timelineManager",new f({disc:".poke-controller__disc",item:".poke-controller__item",itemStand:".poke-controller__item-stand"})),P(this,"state",{items:[],activePoke:void 0}),P(this,"config",{initialAmount:5,maxAmount:20,activeItemClass:"poke-controller__item--active"}),P(this,"start",(function(){n.bindEvents(),n.getInitialData()})),P(this,"bindEvents",(function(){var e=n.controls,t=e.addItem,r=e.toggleWireframes,o=e.removeItem,i=e.toggleSprites;r.onclick=function(){return n.handleToggleWireframes()},t.onclick=function(){return n.handleAddItem()},o.onclick=function(){return n.handleRemoveItem()},i.onclick=function(){return n.handleToggleSprites()}})),P(this,"handleToggleWireframes",(function(){n.component.classList.toggle("poke-controller--show-wireframes")})),P(this,"handleToggleSprites",(function(){n.component.classList.toggle("poke-controller--show-sprites")})),P(this,"handleRemoveItem",(function(){var e=n.state,t=n.timelineManager,r=n.manageControlsState,o=n.setActivePoke,i=y()(e.items);e.items=e.items.filter((function(e){return e!==i})),i.element.remove(),t.createItemTimeline("remove"),i===e.activePoke&&o(y()(e.items)),r()})),P(this,"manageControlsState",(function(){var e=n.state,t=n.controls,r=n.config;t.addItem.disabled=e.items.length>=r.maxAmount,t.removeItem.disabled=1===n.state.items.length})),P(this,"injectItem",(function(e){var t=n.setActivePoke,r=document.createRange().createContextualFragment(e.getMarkup());e.element=r.children[0],r.querySelector('[data-element="poke-item"]').addEventListener("click",(function(){return t(e)})),n.disc.appendChild(e.element)})),P(this,"setActivePoke",(function(e){n.component;var t=n.state,r=n.config.activeItemClass;t.activePoke=e,t.items.forEach((function(t){return t.element.classList.toggle(r,t.element===e.element)})),n.stats.renderStats(e.stats,e.name)})),this.component=t,this.controlContainer=document.querySelector('[data-component="poke-ui__controls"]'),this.disc=this.component.querySelector('[data-element="disc"]'),this.controls={addItem:this.controlContainer.querySelector('[data-action="add-item"]'),toggleWireframes:this.controlContainer.querySelector('[data-action="toggle-wireframes"]'),removeItem:this.controlContainer.querySelector('[data-action="remove-item"]'),toggleSprites:this.controlContainer.querySelector('[data-action="toggle-sprites"]')},this.stats=new v(document.querySelector('[data-component="poke-stats"]'))}var t,n,r,o,i;return t=e,(n=[{key:"handleAddItem",value:(i=S(regeneratorRuntime.mark((function e(){var t,n,r,o,i,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=this.pokeGetter,n=this.timelineManager,r=this.injectItem,o=this.state,i=this.setActivePoke,a=this.manageControlsState,t.getPokemon().then((function(e){var t=new u(e);t.error||(o.items=[].concat(b(o.items),[t]),r(t),i(t),n.createItemTimeline("add"),a())}));case 2:case"end":return e.stop()}}),e,this)}))),function(){return i.apply(this,arguments)})},{key:"getInitialData",value:(o=S(regeneratorRuntime.mark((function e(){var t,n,r,o,i,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.pokeGetter,n=this.injectItem,r=this.state,o=this.config,i=this.timelineManager,a=this.setActivePoke,e.next=3,Promise.all(p()(o.initialAmount,(function(){return t.getPokemon()}))).then((function(e){r.items=e.filter((function(e){return!e.error})).map((function(e,t){var r=new u(e);return n(r),r})),i.createDiscTimeline(),i.createItemTimeline("add"),a(r.items[0])}));case 3:case"end":return e.stop()}}),e,this)}))),function(){return o.apply(this,arguments)})}])&&_(t.prototype,n),r&&_(t,r),e}();window.onload=function(){new I(document.querySelector('[data-component="poke-controller"]')).start()}}});
//# sourceMappingURL=app.bf7667ff.js.map